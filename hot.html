<html>
<head>
    <script src="https://wzrd.in/standalone/nanocurrency@latest"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/style.css">
</head>

<div id="output" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <br />
        <p>Response:</p>
        <pre class="model-code"><code id="model-code"></code></pre>
    </div>
</div>

<body>
<h2>Hot Wallet:</h2>
<p>Requires Nanode API key.</p>

<form onsubmit="return false;">
    <h4>Generate Information:</h4>
    <label>Nanode API Key: <input type="text" id="userAPI" /></label><br />
    <label>Your Account: <input type="text" id="userAccount" /></label><br />
    <label>Destination: <input type="text" id="userDestination" /></label><br />
    <label>Amount: <input type="text" id="userAmount" /></label><br />
    <input type="submit" onclick="getInfo()" />
</form>

<script>

async function getInfo() {
    var rpc = axios.create({
        baseURL: 'https://api.nanode.co',
        headers: {
            Authorization: '780ae601-4058-11e8-bbde-4706d2f4613e'
        }
    })
    var info = await rpc.post('/', {
        action: 'account_info',
        account: 'xrb_18dkuz87wt94w4ykjatzqto786zz3p6urkswbopugmmw7ps8thcfpzassfxh',
        count: 1
    })
    document.getElementById("model-code").innerHTML = JSON.stringify(info);
    modal.style.display = "block";
}


var modal = document.getElementById('output');
var span = document.getElementsByClassName("close")[0];
span.onclick = function() {
    modal.style.display = "none";
}
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}


document.getElementById("model-code").innerHTML = "";
modal.style.display = "none";


</script>
</body>
</html>
